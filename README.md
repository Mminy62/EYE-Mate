# EYE-Mate

<p align="center">
<img src="readme-asset/main-picture.png" width = 100%/>
</p>

### ğŸ—‚ï¸ ëª©ì°¨
1. [ì•± ì†Œê°œ](#ì•±-ì†Œê°œ)
2. [ê°œë°œ í™˜ê²½](#ê°œë°œ-í™˜ê²½)
   - [í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜](#í”„ë¡œì íŠ¸-ì•„í‚¤í…ì²˜)
   - [ì‚¬ìš©í•œ ê¸°ìˆ ](#ì‚¬ìš©í•œ-ê¸°ìˆ )
   - [ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬](#ì‚¬ìš©í•œ-ë¼ì´ë¸ŒëŸ¬ë¦¬)
3. [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
4. [íŒ€ì› ì†Œê°œ](#íŒ€ì›-ì†Œê°œ)

</br>

## ğŸ“Â ì•± ì†Œê°œ

### ë‚´ ëˆˆì„ ì§€ì¼œì£¼ëŠ” ì¹œêµ¬, EYE-Mate

> **EYE-MateëŠ” ëˆˆ ê±´ê°• ê´€ë¦¬ ë° ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼ì…ë‹ˆë‹¤.**</br></br>
>
> â“í˜„ëŒ€ì¸ë“¤ì˜ ëˆˆì— ëŒ€í•œ í”¼ë¡œë„ëŠ” ê°ˆìˆ˜ë¡ ìƒìŠ¹í•˜ê³  ìˆìŠµë‹ˆë‹¤!</br></br>
> ì €í¬ EYE-MateëŠ” ì‚¬ìš©ìë“¤ì˜ ì§€ì†ì ì¸ ëˆˆ ê±´ê°• ë¡œë“œë§µì„ í†µí•´ í˜„ëŒ€ ì‚¬ëŒë“¤ì˜ ëˆˆ ê±´ê°• ê´€ë¦¬ì— ë„ì›€ì„ ì¤„ ìˆ˜ ìˆìœ¼ë©°</br>
> ë‚´ì¼ì˜ í•˜ëŠ˜ì´ ì˜¤ëŠ˜ì˜ í•˜ëŠ˜ ë§Œí¼ ë°ê¸°ë¥¼ ëª©í‘œë¡œ í•˜ê³ ìˆìŠµë‹ˆë‹¤.

</br>

### ğŸ‘€Â ì£¼ìš” ê¸°ëŠ¥
- ê±°ë¦¬ ì¸¡ì •ìœ¼ë¡œ ì‹œë ¥, ìƒ‰ê°, ë‚œì‹œ, ì‹œì•¼ ì´ 4ê°€ì§€ ê²€ì‚¬ë¥¼ ìˆ˜í–‰
- Lottieë¥¼ í™œìš©í•´ ëˆˆ ìš´ë™ ê¸°ëŠ¥ ì œê³µí•˜ì—¬ ëˆˆ ê±´ê°• ê°œì„ 
- ì‚¬ìš©ìì˜ ëˆˆ ìƒíƒœë¥¼ ê¸°ë¡í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê°œì¸ ë©”ë‰´ ì œê³µ
- ëˆˆ ê±´ê°•ê³¼ ê´€ë ¨ëœ ì •ë³´ ê³µìœ  ë° ì†Œí†µì„ ìœ„í•œ ì»¤ë®¤ë‹ˆí‹° ì œê³µ
- ë‚´ ì£¼ë³€ ì•ˆê²½ì› ë° ì•ˆê³¼ ì •ë³´ ì œê³µ

</br>

## ğŸŒÂ ê°œë°œ í™˜ê²½

![XCode](https://img.shields.io/badge/Xcode-147EFB?style=for-the-badge&logo=Xcode&logoColor=white) ![Swift](https://img.shields.io/badge/Swift-F05138?style=for-the-badge&logo=Swift&logoColor=white)
![Github](https://img.shields.io/badge/Github-181717?style=for-the-badge&logo=Github&logoColor=white)  ![iOS](https://img.shields.io/badge/iOS-ffffff?style=for-the-badge&logo=iOS&logoColor=black)
```markdown
XCode: 15.2
Swift: 5.9.2
iOS: 16.0
```

## ğŸ’»Â í”„ë¡œì íŠ¸ ê¸°ìˆ 

### í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜

<div align="center">
  
| MVVM |  
|:----------:|
| <img src="readme-asset/pattern-picture.png" height = "300"/> |  

</div>

### ì‚¬ìš©í•œ ê¸°ìˆ 
* SwiftUI
* ARKit, WebKit
* PhotosUI, Charts, CoreLocation

### ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬
* AcknowList, FirebaseAuth, FirebaseFirestore. FirebaseStorage, FirebaseMessaging, Kingfisher, lottie-ios, NMapsMap, SlackKit

## íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
<details>
  <summary>Issue 1 :: CustomTabBar</summary>

- Issue

```swift
struct CustomTabBarContainerView<Content: View>: View {
    let content: Content
    @EnvironmentObject var tabManager: TabManager
    @State private var tabs: [TabBarItem] = [.home, .movement, .community, .eyeMap]
    
    init(@ViewBuilder content: () -> Content) {
        self.content = content()
    }
    
    var body: some View {
        ZStack(alignment: .bottom) {
            content
            CustomTabBar(tabs: tabs, localSelection: tabManager.selection)
        }
        .onPreferenceChange(TabBarItemPreferenceKey.self, perform: { value in
            self.tabs = tabs
        })
        .ignoresSafeArea(edges: .bottom)
    }
}
```

CustomTabBar êµ¬í˜„ ì‹œ VStackìœ¼ë¡œ Contentë¥¼ êµ¬ì„±í•˜ê³  í•˜ë‹¨ì— TabBarë¥¼ êµ¬ì„±í•˜ê¸°ìœ„í•´ ë°”ê¿”ë³´ì•˜ì§€ë§Œ, 

ZStackìœ¼ë¡œëŠ” ì •ìƒì ìœ¼ë¡œ êµ¬í˜„ë˜ëŠ” ë°˜ë©´ VStackìœ¼ë¡œ í•˜ê²Œë˜ë©´ Contentì˜ Heightê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ê¸¸ì–´ì§€ëŠ” Issueê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

- Problem

ZStackê³¼ VStackì˜ ì •ì˜ë¥¼ ì •í™•íˆ ì´í•´í•˜ì§€ ëª»í•´ ì¼ì–´ë‚˜ëŠ” ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.

```swift
// ê¸°ì¡´ ì½”ë“œ
var body: some View {
        NavigationStack {
            CustomTabBarContainerView(selection: $tabSelection) {
                HomeView(tabSelection: $tabSelection)
                    .tabBarItem(tab: .home, selection: $tabSelection)
                MovementView()
                    .tabBarItem(tab: .movement, selection: $tabSelection)
                CommunityView()
                    .tabBarItem(tab: .community, selection: $tabSelection)
                EyeMapView()
                    .tabBarItem(tab: .eyeMap, selection: $tabSelection)
            }
            .accentColor(.customGreen)
            .padding(0)
        }
    }
```

tabSelectionìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ë³´ì—¬ì§€ëŠ” í™”ë©´ì´ ë‹¬ë¼ì§ìœ¼ë¡œì¨ ì£¼ì–´ì§€ëŠ” Contentê°€ í•œ ê°œì”© ì£¼ì–´ì§„ë‹¤ê³  ì°©ê°í•˜ì˜€ìŠµë‹ˆë‹¤. 

ZStackì€ ë·°ê°€ ê²¹ì³ì„œ ì œê³µë˜ì–´ Content 4ê°œê°€ ì œê³µë˜ë”ë¼ë„ ë°‘ì— ê¹”ë ¤ìˆìœ¼ë¯€ë¡œ ì •ìƒì ìœ¼ë¡œ ì¶œë ¥ë˜ëŠ” ê²ƒì´ì˜€ê³ , VStackìœ¼ë¡œ ë°”ê¾¸ê²Œ ë  ì‹œ í´ë¡œì €ë¡œ ì£¼ì–´ì§„ Content 4ê°œì˜ ëª¨ë“  Heightê°€ ë”í•´ì ¸ ê²°êµ­ Contentì˜ ê¸¸ì´ê°€ ê¸¸ì–´ì§€ëŠ” ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.

- Solution

```swift
// ë³€ê²½ëœ ì½”ë“œ
var body: some View {
        VStack {
            CustomTabBarContainerView() {
                switch tabManager.selection {
                case .home:
                    HomeView()
                        .tabBarItem(tab: .home, selection: $tabManager.selection)
                case .movement:
                    MovementView()
                        .tabBarItem(tab: .movement, selection: $tabManager.selection)
                case .community:
                    CommunityView()
                        .tabBarItem(tab: .community, selection: $tabManager.selection)
                case .eyeMap:
                    EyeMapView()
                        .tabBarItem(tab: .eyeMap, selection: $tabManager.selection)
                }
            }
        }
    }
```

ê¸°ì¡´ selectionì„ EnvironmentObjectë¡œ ë³€ê²½í•˜ì—¬ ì „ì—­ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½í•˜ì˜€ê³ ,

í•´ë‹¹ ê°’ì´ ë³€ë™ë  ë•Œë§ˆë‹¤ Contentë¥¼ Switchë¬¸ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì£¼ì–´ì§€ëŠ” Contentë¥¼ í•œ ê°œë¡œ ê³ ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

ì´ë¥¼ í†µí•´ ê¸°ì¡´ HomeViewì—ì„œ selectionì„ ë³€ê²½í•˜ê¸°ìœ„í•´ Bindingí–ˆë˜ ì½”ë“œë„ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

</details>

<details>
  <summary>Issue 2 :: ì‹œë ¥ê²€ì‚¬ ì¸¡ì •ê±°ë¦¬ ë¶ˆì¼ì¹˜</summary>

<img src="readme-asset/issue2.png" width="300">

- Issue

ì‹œë ¥ ê²€ì‚¬ì—ì„œ ê²€ì‚¬ë¥¼ ì‹œì‘í•  ë•Œ ì¸¡ì •í–ˆë˜ ì¸¡ì •ê±°ë¦¬ê°€ ê²€ì‚¬ ê²°ê³¼ í™”ë©´ì—ì„œ ì œëŒ€ë¡œ ì €ì¥ë˜ì§€ ì•Šê³  0CM ë¡œ ì¶œë ¥ë˜ëŠ” Issueê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

- Problem

ë‹¤ë¥¸ íŒŒì¼ì—ì„œ êµ¬í˜„ëœ ì½”ë“œì˜€ê¸° ë•Œë¬¸ì— ê²€ì‚¬ ì‹œì‘ ì „ Instanceì™€ ê²°ê³¼ í™”ë©´ì—ì„œì˜ Instanceê°€ ë‹¬ë¼ ì¼ì–´ë‚˜ëŠ” ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.

- Solution

í•´ë‹¹ ì¸¡ì •ê±°ë¦¬ë¥¼ í¬í•¨í•œ ViewModelì„ ì‹±ê¸€í†¤ íŒ¨í„´ìœ¼ë¡œ ë³€ê²½í•˜ê³  í•˜ë‚˜ì˜ Instanceë§Œ ìƒì„±ë˜ê²Œ í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

</details>


<details>
  <summary>Issue 3 :: í”„ë¡œí•„ ì‚¬ì§„ ì„ íƒ ì‹œ 4:3 ì´ë¯¸ì§€ì˜ ì—¬ë°±ì´ ì§€ì›Œì§€ì§€ ì•ŠëŠ” ì˜¤ë¥˜</summary>
   
### Issue

í”„ë¡œí•„ ì‚¬ì§„ì´ íšŒì›ê°€ì…, ì„¤ì •ì—ì„œ ë³€ê²½ ì‹œ, profile image í¬ê¸°ê°€ 200, 200 ì •ë„ì˜ ì›ì¸ë° 

**4:3 ë¹„ìœ¨ì˜ ì´ë¯¸ì§€ë¥¼ ë„£ìœ¼ë©´ ì›ì´ ë‹¤ ì°¨ì§€ ì•ŠëŠ”ë‹¤.(ì˜†ì— í°ìƒ‰ ì—¬ë°±ì´ ìƒê¸´ë‹¤)**

- ì›ì˜ ì–‘ì˜†ì´ ë‚¨ìŒ, ë¹„ìœ¨ ìœ ì§€ë•Œë¬¸ì¸ë“¯ ì‹¶ë‹¤
- aspactioë¥¼ ì•ˆì“°ê³  scaledToFillì„ ì¨ë„ ì—¬ì „íˆ ë¬¸ì œì´ë‹¤
- frame í¬ê¸°ê°€ 50, 50ì¸ ì‘ì€ ì› ì´ê±°ë‚˜ 1:1 ì´ë¯¸ì§€(ì •ì‚¬ê°í˜• ì´ë¯¸ì§€)ëŠ” ì˜ ë¨

### Solution
  
- `scaledToFill()`
   - ë¹„ìœ¨ì„ ìœ ì§€í•˜ë©´ì„œ ìƒìœ„ ë·°ì˜ í¬ê¸°ë¥¼ ë‹¤ ì±„ìš°ëŠ” í•¨ìˆ˜
 
   - <img width="300" alt="issue3-1" src="readme-asset/issue3-1.png">

- `aspectRatio(contentMode: .fill)`
   - ì§€ì •ëœ í¬ê¸°ì˜ ë·°ì— ë§ê²Œ ë¹„ìœ¨ì„ ë§ì¶˜ë‹¤
   - ì´ ì˜ˆì—ì„œ ë³´ë¼ìƒ‰ íƒ€ì›ì€ ê°€ë¡œì™€ ì„¸ë¡œì˜ ë¹„ìœ¨ì´ 3:4ì´ë©° í”„ë ˆì„ì„ ì±„ìš°ë„ë¡ í¬ê¸°ê°€ ì¡°ì •ë©ë‹ˆë‹¤:
   - <img width="300" alt="issue3-2" src="readme-asset/issue3-1.png">
    

```swift
# ìœ„ì™€ ê°™ì€ ì´ìœ ë¡œ aspectRatioë¥¼ ì‚¬ìš©í•˜ì—¬ 4:3 ì´ë¯¸ì§€ì˜ ë¹„ìœ¨ ìœ ì§€ë¥¼ ì—†ì•´ë‹¤
extension Image {
    func ProfileImageModifier() -> some View {
        self
            .resizable()
            .aspectRatio(contentMode: .fill)
            .clipShape(Circle())
    }
}
```
</details>
<details>
  <summary>Issue 4 :: í”„ë¡œí•„ ì‚¬ì§„ ë³€ê²½ í›„ ì´ë¯¸ì§€ ë°˜ì˜ ì‹œê°„ ë‹¨ì¶•</summary>

- Issue
    - í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ Firebase storageì— ì €ì¥í•˜ê³  ìˆëŠ” ìƒíƒœ
    - ì´ë¯¸ì§€ëŠ” ê° ë©”ë‰´ì˜ ìƒë‹¨ì— ë…¸ì¶œë˜ë©°, storageì˜ download urlì„ @UserDefaults ê°’ìœ¼ë¡œ ê°–ê³  ìˆëŠ” ìƒíƒœ
    - í”„ë¡œí•„ ì‚¬ì§„ ë³€ê²½ ê³¼ì •: storage ì‚¬ì§„ ë³€ê²½ â†’ download url ì—ì„œ ë‹¤ìš´ë°›ì•„ ê°€ì ¸ì˜´
    
    â‡’ download url ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë°›ì•„ì˜¤ëŠ” ê³¼ì •ì—ì„œ ì‹œê°„ì´ ê±¸ë¦°ë‹¤
    

- Solution

1) Kingfisher ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ ë‹¤ìš´ ì‹œê°„ì„ ë‹¨ì¶•ì‹œì¼°ë‹¤

2) ë¡œì»¬ ìºì‹œì²˜ëŸ¼ Image ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë‹¤ìš´ ë°›ì§€ ì•Šê³ , ë°”ë¡œ ë³€ê²½ì‹œí‚¨ í›„ ë’¤ì—ì„  storageë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•œë‹¤.

- UserDefaultsëŠ” ê¸°ë³¸ ë°ì´í„°í˜•ë§Œ ì €ì¥í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ stringì¸ urlì„ ì €ì¥í•˜ëŠ” ê²ƒì´ ìµœì„ ì´ë‹¤.<br>
ê·¸ëŸ¬ë¯€ë¡œ ì•±ì„ ì²˜ìŒ ì‹œì‘í•  ë•Œë§Œ, url & kingfisherë¥¼ ì´ìš©í•´ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë°›ê³ , ì´í›„ ì•±ì„ ì¼  ìƒíƒœë¡œëŠ” image ë³€ìˆ˜ë¥¼ ì €ì¥/ë³€ê²½ í•˜ëŠ” ê²ƒì²˜ëŸ¼ ì´ìš©í•œë‹¤.

<img width="300" alt="issue4-1" src="readme-asset/issue4-1.png">
<img width="300" alt="issue4-2" src="readme-asset/issue4-2.png">

</details>

<details>
  <summary>Issue 5 :: í™”ë©´ ì´ë™ ì²˜ë¦¬ Router ë¡œì§ ë¯¸ë°˜ì˜</summary>

- Issue
    - í™”ë©´ ì´ë™ì— ëŒ€í•œ ì±…ì„ì„ ë¶„ë¦¬ì‹œì¼°ìœ¼ë‚˜ ë¼ìš°íŒ… ë¡œì§ì´ ëˆ„ë½ëœ ë¶€ë¶„ì´ ì¡´ì¬í•´ ëª©ì ì§€ í™”ë©´ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ì´ë™ì´ë˜ì§€ ì•ŠëŠ”ë‹¤.
    
- Solution
    - OTPVerificationView íŒŒì¼ `ë¡œê·¸ì¸ í™”ë©´ì¸ ê²½ìš°`ì˜ ifë¬¸ scropeì— ëˆ„ë½ëœ ë¼ìš°íŒ… ë¡œì§ ì¶”ê°€
 ```swift
// ë¡œê·¸ì¸ í™”ë©´ì¸ ê²½ìš°
else {
	let isRegistered = try await loginViewModel.checkLoginAndSettingInfo()
	// ê°€ì…í•œ ì´ë ¥ì´ ìˆëŠ” ê²½ìš°
	if isRegistered {
		loggedIn = true
		isDisplaySignUpText = false
			if loginViewModel.showFullScreenCover {
			loginViewModel.showFullScreenCover.toggle()
			} else {
				router.navigateBack()
			}
	}
	// ê°€ì…í•œ ì´ë ¥ì´ ì—†ëŠ” ê²½ìš°
	else {
		loggedIn = false
		isDisplaySignUpText = true
		errorText = SignUpErrorText.signup.rawValue
	}
}
```
</details>

<details>
  <summary>Issue 6 :: ë‹‰ë„¤ì„, í”„ë¡œí•„ ì´ë¯¸ì§€ ë³€ê²½ì‚¬í•­ ê²Œì‹œë¬¼, ëŒ“ê¸€ì— ë¯¸ë°˜ì˜</summary>
- Issue
    - ë¬¸ì œ ì‹ë³„
        - ì‚¬ìš©ìê°€ ë‹‰ë„¤ì„ ë˜ëŠ” í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ ë³€ê²½ì‹œ ê²Œì‹œë¬¼, ëŒ“ê¸€ì— ë³€ê²½ ì´ì „ì˜ Dataê°€ ë‹´ê²¨ìˆëŠ” ë¬¸ì œ ë°œìƒ
    - ì›ì¸ ë¶„ì„
        - DBì˜ User Documentë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì•„ë‹Œ ê²Œì‹œë¬¼ ë˜ëŠ” ëŒ“ê¸€ ì‘ì„±ì‹œ í˜„ì¬ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ Post Documentì— ì ì¬í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •ì‹œ í•´ë‹¹ ì‚¬ìš©ìì˜ ëª¨ë“  ê²Œì‹œë¬¼ê³¼ ëŒ“ê¸€ì— ì ì¬ëœ ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸ í•´ì£¼ì§€ ì•ŠëŠ”ì´ìƒ ë³€ê²½ëœ ì •ë³´ê°€ ë°˜ì˜ë˜ì§€ ì•ŠëŠ”ë‹¤.
    - í•´ê²° ë°©ë²•
        - ì‚¬ìš©ìì˜ ì •ë³´ê°€ ìˆ˜ì •ë  ë•Œë§ˆë‹¤ í•´ë‹¹ë˜ëŠ” ëª¨ë“  ê²Œì‹œë¬¼ê³¼ ëŒ“ê¸€ì˜ Dataë¥¼ ì—…ë°ì´íŠ¸ í•´ì¤„ ìˆ˜ë„ ìˆê² ì§€ë§Œ ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ê¸° ë•Œë¬¸ì— Post Documentì— ì§ì ‘ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì ì¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ
        userUIDë§Œ ì ì¬í•˜ê³  ê²Œì‹œë¬¼ì„ ì½ì–´ì˜¬ ë•Œ User Documentë¡œë¶€í„° ìµœì‹  ì •ë³´ë¥¼ ì½ì–´ì™€ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬

- Solution

`FreeboardViewModel.swift`
```swift
/// - ê²Œì‹œë¬¼ Fetch
    func fetchPosts() async {
        do {
            var query: Query!
            
            // MARK: ê²Œì‹œë¬¼ Pagination
            if let paginationDoc {
                query = Firestore.firestore().collection("Posts")
                    .order(by: "publishedDate", descending: true)
                    .start(afterDocument: paginationDoc)
                    .limit(to: 20)
            } else {
                query = Firestore.firestore().collection("Posts")
                    .order(by: "publishedDate", descending: true)
                    .limit(to: 20)
            }
            
            let docs = try await query.getDocuments()
            let fetchedPosts = try await docs.documents.asyncMap{ doc -> Post? in
                var post = try? doc.data(as: Post.self)
                
                // userName ì—…ë°ì´íŠ¸
                if let userUID = post?.userUID, !userUID.isEmpty {
                    let postUser = try await Firestore.firestore().collection("Users").document(userUID).getDocument(as: User.self)
                    post?.userName = postUser.userName
                    post?.userImageURL = postUser.userImageURL!
                }
                
                // Comment ê°€ì ¸ì˜¤ê¸°
                guard let postID = post?.id else { return nil }
                let commentsQuerySnapshot = try await Firestore.firestore()
                    .collection("Posts")
                    .document(postID)
                    .collection("Comments")
                    .order(by: "publishedDate", descending: false)
                    .getDocuments()
                
                post?.comments = try await commentsQuerySnapshot.documents.asyncMap{ commentDoc -> Comment? in
                    var comment = try? commentDoc.data(as: Comment.self)
                    
                    // ëŒ“ê¸€ userName ì—…ë°ì´íŠ¸
                    if let commentUserUID = comment?.userUID, !commentUserUID.isEmpty {
                        let commentUser = try await Firestore.firestore().collection("Users").document(commentUserUID).getDocument(as: User.self)
                        comment?.userName = commentUser.userName
                        comment?.userImageURL = commentUser.userImageURL!
                    }
                    
                    // ëŒ“ê¸€ì˜ ëŒ€ëŒ“ê¸€ ê°€ì ¸ì˜¤ê¸°
                    let replyCommentsQuerySnapshot = try await Firestore.firestore()
                        .collection("Posts")
                        .document(postID)
                        .collection("Comments")
                        .document(commentDoc.documentID)
                        .collection("ReplyComments")
                        .order(by: "publishedDate", descending: false)
                        .getDocuments()
                    
                    comment?.replyComments = try await replyCommentsQuerySnapshot.documents.asyncMap{ replyDoc -> ReplyComment? in
                        var replyComment = try? replyDoc.data(as: ReplyComment.self)
                        
                        // ëŒ€ëŒ“ê¸€ userName ì—…ë°ì´íŠ¸
                        if let replyCommentUserUID = replyComment?.userUID, !replyCommentUserUID.isEmpty {
                            let replyCommentUser = try await Firestore.firestore().collection("Users").document(replyCommentUserUID).getDocument(as: User.self)
                            replyComment?.userName = replyCommentUser.userName
                            replyComment?.userImageURL = replyCommentUser.userImageURL!
                        }
                        
                        return replyComment
                    }.compactMap{ $0 }
                    
                    return comment
                }.compactMap{ $0 }
                
                return post
            }.compactMap{ $0 }
            
            await MainActor.run {
                posts.append(contentsOf: fetchedPosts)
                
                // Paginationì— ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë§ˆì§€ë§‰ì— ê°€ì ¸ì˜¨ Documentë¥¼ ì €ì¥
                paginationDoc = docs.documents.last
                isFetching = false
            }
        } catch {
            print(error.localizedDescription)
        }
    }
```
</details>

## ğŸ‘¨â€ğŸ’»Â íŒ€ì› ì†Œê°œ

|               <img src="https://github.com/htj7425/Algorithm/assets/43903354/07402f32-3af2-476a-9705-73398b284363" width="500">                |               <img src="https://github.com/htj7425/Algorithm/assets/43903354/64d9618e-d4d6-43a2-89b1-a466839416ca" width="500">                |               <img src="https://github.com/htj7425/Algorithm/assets/43903354/a2ee13cd-86dc-4e28-bddf-7ead973a20b3" width="500">                |               <img src="https://github.com/htj7425/Algorithm/assets/43903354/4644a125-4d05-40e0-a798-715e3238a747" width="500">                |
| :--------------------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------------: |
|                                                      [ì˜¤ì„±ì¤€](https://github.com/sunujun)                                                      |                                                      [ì´ë¯¼ì˜](https://github.com/Mminy62)                                                      |                                                      [ì´ì„±í˜„](https://github.com/zxl3651)                                                      |                                                      [í•˜íƒœì¤€](https://github.com/htj7425)                                                      |
| <a href="https://github.com/sunujun"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=github&logoColor=white"/></a> | <a href="https://github.com/Mminy62"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=github&logoColor=white"/></a> | <a href="https://github.com/zxl3651"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=github&logoColor=white"/></a> | <a href="https://github.com/htj7425"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=github&logoColor=white"/></a> |
